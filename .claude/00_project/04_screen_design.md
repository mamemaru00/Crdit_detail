# 画面設計書

## 1. メイン画面（index.html）

### 1.1 CSVファイル選択エリア
- ファイル選択ボタン
- 選択したファイル名表示
- プレビューボタン
- プレビューテーブル（利用日、店舗名、金額を5件表示）

### 1.2 スプレッドシート設定エリア
- スプレッドシートID入力欄
- 対象年選択ドロップダウン（2023年～2026年等）
- サービスアカウント情報表示（creditapi@creditapi-470614...）

### 1.3 カテゴリ設定エリア
- マッピング管理画面へのリンクボタン
- 登録済み店舗数表示
- デフォルト列設定表示（B列：支払額）

### 1.4 実行・結果表示エリア
- 取込実行ボタン
- 処理結果サマリー
  - 月別・カテゴリ別の加算額と件数
  - 合計金額と処理件数
  - 未登録店舗リスト（店舗名と金額）
- 未登録店舗登録ボタン
- 詳細ログダウンロードボタン

## 2. マッピング管理画面（mapping.html）

### 2.1 検索エリア
- 店舗名検索テキストボックス

### 2.2 マッピング一覧テーブル
- カラム：店舗名パターン、カテゴリ、列番号、操作
- 各行に編集・削除ボタン
- ページング機能（10件/ページ）

### 2.3 操作ボタンエリア
- 新規追加ボタン
- インポートボタン（JSON/CSV）
- エクスポートボタン（JSON/CSV）

### 2.4 新規マッピング追加フォーム
- 店舗名パターン入力欄
- 一致方法選択（完全一致/前方一致/部分一致）
- カテゴリ選択ドロップダウン
- 列番号選択ドロップダウン（B～V列）
- 登録・キャンセルボタン

## 3. 未登録店舗確認画面

### 3.1 未登録店舗リスト
- 各店舗の情報表示（店舗名、金額）
- カテゴリ選択ドロップダウン
- 列番号自動表示
- 「今回のみ」「登録して適用」ボタン

### 3.2 一括操作エリア
- 一括でデフォルト列振り分けボタン
- キャンセルボタン

## 4. UIフレームワーク
- Bootstrap 5.3使用
- レスポンシブデザイン対応
- Jinja2テンプレートエンジンでHTMLレンダリング