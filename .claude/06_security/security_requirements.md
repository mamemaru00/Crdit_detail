# セキュリティ要件

## 1. 認証・認可
- Googleサービスアカウント認証を使用
- アカウント情報（creditapi@creditapi-470614...）は環境変数または暗号化ストレージに保存
- 認証情報ファイル（JSON）はプロジェクトルートに配置せず、適切なディレクトリで管理
- スプレッドシートへのアクセス権限は必要最小限に設定

## 2. データ保護
- CSVファイルはサーバー上で一時処理後、即座に削除
- アップロードファイルサイズ制限を設定（推奨：10MB以下）
- スプレッドシートIDは入力バリデーションを実施
- クレジットカード情報は暗号化通信（HTTPS）で送信

## 3. 入力検証
- SQLインジェクション対策（該当する場合）
- XSS対策：ユーザー入力のサニタイジング
- CSRF対策：トークン検証の実装
- ファイルアップロード時の拡張子・MIME型チェック

## 4. ログ・監査
- 処理履歴の記録（日時、ユーザー、処理内容）
- エラーログの保存と定期的なレビュー
- 個人情報を含むログは適切に管理・削除

## 5. アクセス制御
- セッション管理の実装
- タイムアウト設定（推奨：30分）
- 同時アクセス数の制限

## 6. 依存関係管理
- 使用ライブラリの定期的なアップデート
- 既知の脆弱性チェック（npm audit等）
- サードパーティライブラリの最小化